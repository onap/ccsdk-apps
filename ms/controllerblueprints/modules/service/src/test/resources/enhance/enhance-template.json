{
  "metadata": {
    "template_author": "Brinda Santh",
    "template_name": "enhance-template",
    "template_version": "1.0.0",
    "service-type": "Sample Service",
    "release": "1806",
    "vnf-type": "VPE"
  },
  "topology_template": {
    "inputs": {
      "request-id": {
        "required": true,
        "type": "string"
      },
      "service-instance-id": {
        "required": true,
        "type": "string"
      },
      "scope-type": {
        "required": true,
        "type": "string"
      },
      "action-name": {
        "required": true,
        "type": "string"
      },
      "hostname": {
        "required": true,
        "type": "string"
      }
    },
    "node_templates": {
      "vpe-netconf-device": {
        "capabilities": {
          "netconf": {
            "properties": {
              "login-key": "sdnc",
              "login-account": "sndc-local",
              "source": "local",
              "target-ip-address": "{\"get_attribute\":\"lo0-local-ipv4-address\"}",
              "port-number": 22,
              "connection-time-out": 30
            }
          }
        },
        "type": "vnf-netconf-device"
      },
      "activate-netconf-component": {
        "capabilities": {
          "component-node": {}
        },
        "requirements": {
          "netconf-connection": {
            "capability": "netconf",
            "node": "vpe-netconf-device",
            "relationship": "tosca.relationships.ConnectsTo"
          }
        },
        "interfaces": {
          "org-openecomp-sdnc-netconf-adaptor-service-NetconfExecutorNode": {
            "operations": {
              "process": {
                "inputs": {
                  "action-name": "{ \"get_input\" : \"action-name\" }",
                  "template_name": "{ \"get_attribute\" : \"template_name\" }",
                  "service-template-version": "{ \"get_attribute\" : \"service-template-version\" }",
                  "resource-type": "vnf-type",
                  "request-id": "{ \"get_input\" : \"request-id\" }",
                  "resource-id": "{ \"get_input\" : \"hostname\" }",
                  "execution-script": "execution-script"
                },
                "outputs": {
                  "response-data": "{ \"get_attribute\" : \"netconf-executor-baseconfig.response-data\" }",
                  "status": "{ \"get_attribute\" : \"netconf-executor-baseconfig.status\" }"
                },
                "implementation" : {
                  "primary" : "file://netconf_adaptor/DefaultBaseLicenceConfig.py"
                }
              }
            }
          }
        },
        "type": "component-netconf-executor"
      },
      "resource-assignment-ra-component": {
        "capabilities": {
          "component-node": {}
        },
        "interfaces": {
          "org-openecomp-sdnc-config-assignment-service-ConfigAssignmentNode": {
            "operations": {
              "process": {
                "inputs": {
                  "template-names": [
                    "base-config-template",
                    "licence-template"
                  ],
                  "action-name": "{ \"get_input\" : \"action-name\" }",
                  "service-template-name": "{ \"get_attribute\" : \"template_name\" }",
                  "service-template-version": "{ \"get_attribute\" : \"service-template-version\" }",
                  "resource-type": "vnf-type",
                  "request-id": "{ \"get_input\" : \"request-id\" }",
                  "resource-id": "{ \"get_input\" : \"hostname\" }"
                },
                "outputs": {
                  "resource-assignment-params": "success",
                  "status": "status"
                }
              }
            }
          }
        },
        "type": "component-resource-assignment"
      },
      "resource-assignment-action": {
        "properties": {
          "mode": "sync",
          "version": "LATEST",
          "is-start-flow": "false"
        },
        "requirements": {
          "component-dependency": {
            "capability": "component-node",
            "node": "resource-assignment-ra-component",
            "relationship": "tosca.relationships.DependsOn"
          }
        },
        "capabilities": {
          "dg-node": {},
          "content": {
            "properties": {
              "type": "json"
            }
          }
        },
        "interfaces": {
          "CONFIG": {
            "operations": {
              "ResourceAssignment": {
                "inputs": {
                  "params": []
                }
              }
            }
          }
        },
        "type": "dg-resource-assignment"
      },
      "activate-action": {
        "properties": {
          "mode": "sync",
          "version": "LATEST",
          "is-start-flow": "false"
        },
        "requirements": {
          "component-dependency": {
            "capability": "component-node",
            "node": "activate-netconf-component",
            "relationship": "tosca.relationships.DependsOn"
          }
        },
        "capabilities": {
          "dg-node": {},
          "content": {
            "properties": {
              "type": "json"
            }
          }
        },
        "interfaces": {
          "CONFIG": {
            "operations": {
              "ActivateNetconf": {
                "inputs": {
                  "params": []
                }
              }
            }
          }
        },
        "type": "dg-activate-netconf"
      },
      "base-config-template": {
        "capabilities": {
          "content": {
            "properties": {
              "content": "db://base-config-template"
            }
          },
          "mapping": {
            "properties": {
              "mapping": [
                {
                  "name": "bundle-mac",
                  "property": {
                    "description": "",
                    "required": true,
                    "type": "string",
                    "status": "",
                    "constraints": [
                      {}
                    ],
                    "entry_schema": {
                      "type": ""
                    }
                  },
                  "input-param": false,
                  "dictionary-name": "bundle-mac",
                  "dictionary-source": "db",
                  "dependencies": [
                    "hostname"
                  ],
                  "version": 0
                },
                {
                  "name": "wan-aggregate-ipv4-addresses",
                  "property": {
                    "description": "",
                    "required": true,
                    "type": "list",
                    "status": "",
                    "constraints": [
                      {}
                    ],
                    "entry_schema": {
                      "type": "dt-v4-aggregate"
                    }
                  },
                  "input-param": false,
                  "dictionary-name": "wan-aggregate-ipv4-addresses",
                  "dictionary-source": "mdsal",
                  "dependencies": [
                    "service-instance-id",
                    "oam-network-role",
                    "oam-v4-ip-type ",
                    "oam-vm-type"
                  ],
                  "version": 0
                },
                {
                  "name": "hostname",
                  "property": {
                    "required": true,
                    "type": "string"
                  },
                  "dictionary-name": "hostname",
                  "dictionary-source": "input",
                  "version": 0,
                  "input-param": false
                },
                {
                  "name": "service",
                  "property": {
                    "required": true,
                    "type": "string"
                  },
                  "dictionary-name": "service",
                  "dictionary-source": "input",
                  "version": 0,
                  "input-param": false
                },
                {
                  "name": "service-instance-id",
                  "property": {
                    "required": true,
                    "type": "string"
                  },
                  "dictionary-name": "service-instance-id",
                  "dictionary-source": "input",
                  "version": 0,
                  "input-param": false
                }
              ]
            }
          }
        },
        "properties": {
          "action-names": [
            "resource-assignment-action"
          ]
        },
        "type": "artifact-config-template"
      },
      "licence-template": {
        "capabilities": {
          "content": {
            "properties": {
              "content": "db://licence-template"
            }
          },
          "mapping": {
            "properties": {
              "mapping": [
                {
                  "name": "licenses",
                  "property": {
                    "description": "",
                    "required": true,
                    "type": "list",
                    "status": "",
                    "constraints": [
                      {}
                    ],
                    "entry_schema": {
                      "type": "dt-license-key"
                    }
                  },
                  "input-param": false,
                  "dictionary-name": "licenses",
                  "dictionary-source": "mdsal",
                  "dependencies": [
                    "service-instance-id"
                  ],
                  "version": 0
                },
                {
                  "name": "service-instance-id",
                  "property": {
                    "required": true,
                    "type": "string"
                  },
                  "dictionary-name": "service-instance-id",
                  "dictionary-source": "input",
                  "version": 0,
                  "input-param": false
                }
              ]
            }
          }
        },
        "properties": {
          "action-names": [
            "resource-assignment-action"
          ]
        },
        "type": "artifact-config-template"
      }
    }
  },
  "node_types": {
  },
  "data_types": {
  }
}